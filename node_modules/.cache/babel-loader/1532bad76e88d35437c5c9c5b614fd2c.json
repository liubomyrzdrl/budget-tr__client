{"ast":null,"code":"import { ApiAuth } from '../../api/index';\nimport { initStart, initSuccess, initError } from './appActions';\nimport { userOperations } from '../user';\nexport function init() {\n  return async function initFlow(dispatch) {\n    try {\n      dispatch(initStart());\n      ApiAuth.init();\n      await dispatch(userOperations.getUser());\n      dispatch(initSuccess());\n    } catch (err) {\n      dispatch(initError());\n    }\n  };\n}","map":{"version":3,"sources":["/Users/macbook/Documents/DEVELOPMENT/budget-tracker/client/src/modules/app/appOperations.ts"],"names":["ApiAuth","initStart","initSuccess","initError","userOperations","init","initFlow","dispatch","getUser","err"],"mappings":"AAAA,SAASA,OAAT,QAAwB,iBAAxB;AACA,SAASC,SAAT,EAAoBC,WAApB,EAAiCC,SAAjC,QAAkD,cAAlD;AACA,SAASC,cAAT,QAA+B,SAA/B;AAcA,OAAO,SAASC,IAAT,GAA8B;AACnC,SAAO,eAAeC,QAAf,CAAwBC,QAAxB,EAAkF;AACvF,QAAI;AACFA,MAAAA,QAAQ,CAACN,SAAS,EAAV,CAAR;AACAD,MAAAA,OAAO,CAACK,IAAR;AACA,YAAME,QAAQ,CAACH,cAAc,CAACI,OAAf,EAAD,CAAd;AAEAD,MAAAA,QAAQ,CAACL,WAAW,EAAZ,CAAR;AAED,KAPD,CAOE,OAAOO,GAAP,EAAY;AACZF,MAAAA,QAAQ,CAACJ,SAAS,EAAV,CAAR;AACD;AACF,GAXD;AAYD","sourcesContent":["import { ApiAuth } from '../../api/index';\nimport { initStart, initSuccess, initError } from './appActions';\nimport { userOperations } from '../user';\nimport { ThunkAction } from 'redux-thunk';\nimport { UserSingleType } from '../../types';\nimport { Action } from 'redux-actions';\nimport { Dispatch } from 'react';\nimport { UserThunkType } from '../user/userOperations';\n\nexport type AppThunkType = ThunkAction<\n  Promise<void>,\n  UserSingleType,\n  unknown,\n  Action<void>\n>\n\nexport function init(): AppThunkType {\n  return async function initFlow(dispatch: Dispatch<Action<void | Action<UserThunkType>>>) {\n    try {\n      dispatch(initStart());\n      ApiAuth.init();\n      await dispatch(userOperations.getUser());\n\n      dispatch(initSuccess());\n\n    } catch (err) {\n      dispatch(initError());\n    }\n  };\n}\n"]},"metadata":{},"sourceType":"module"}