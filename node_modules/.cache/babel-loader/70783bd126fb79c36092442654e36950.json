{"ast":null,"code":"import axios from 'axios';\nexport const ApiEntries = {\n  fetchEntries(userId) {\n    return axios.get(`https://budget-track-elif.herokuapp.com/b/entries/get/?userId=${userId}`);\n  },\n\n  createEntrie(entrie) {\n    return axios.post('https://budget-track-elif.herokuapp.com/b/entries/create', entrie);\n  },\n\n  updateEntrie(entrie) {\n    return axios.put(`https://budget-track-elif.herokuapp.com/b/entries/update`, entrie);\n  },\n\n  deleteEntries(id) {\n    return axios.delete(`https://budget-track-elif.herokuapp.com/b/entries/delete/?id=${id}`);\n  }\n\n};\nexport const ApiAuth = {\n  _token: null,\n\n  isLoggedIn() {\n    return !!this._token;\n  },\n\n  _storeTokenToAxios(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`; // axios.defaults.headers.common.Authorization = `Bearer ${this._token}`\n  },\n\n  setToken(token) {\n    this._token = token;\n\n    this._storeTokenToAxios(token);\n  },\n\n  init() {\n    try {\n      const token = window.localStorage.getItem('token');\n      this.setToken(token);\n    } catch (error) {\n      console.log('NOT FOUND TOKEN');\n      console.log(error);\n    }\n\n    return this._token;\n  },\n\n  register(entrie) {\n    return axios.post(`https://budget-track-elif.herokuapp.com/b/auth/register`, entrie);\n  },\n\n  login(entrie) {\n    return axios.post(`https://budget-track-elif.herokuapp.com/b/auth/login`, entrie);\n  }\n\n};\nexport const ApiAccount = {\n  get() {\n    return axios.post(`https://budget-track-elif.herokuapp.com/b/account`);\n  }\n\n};","map":{"version":3,"sources":["/Users/macbook/Documents/DEVELOPMENT/budget-tracker/client/src/api/index.ts"],"names":["axios","ApiEntries","fetchEntries","userId","get","createEntrie","entrie","post","updateEntrie","put","deleteEntries","id","delete","ApiAuth","_token","isLoggedIn","_storeTokenToAxios","token","defaults","headers","common","Authorization","setToken","init","window","localStorage","getItem","error","console","log","register","login","ApiAccount"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAMA,OAAO,MAAMC,UAAU,GAAG;AACtBC,EAAAA,YAAY,CAACC,MAAD,EAA6C;AACvD,WAAOH,KAAK,CAACI,GAAN,CAAW,iEAAgED,MAAO,EAAlF,CAAP;AACD,GAHqB;;AAKtBE,EAAAA,YAAY,CAAEC,MAAF,EAA2C;AACrD,WAAON,KAAK,CAACO,IAAN,CAAW,0DAAX,EAAuED,MAAvE,CAAP;AACD,GAPqB;;AAStBE,EAAAA,YAAY,CAAEF,MAAF,EAA2C;AACnD,WAAON,KAAK,CAACS,GAAN,CAAW,0DAAX,EAAsEH,MAAtE,CAAP;AACH,GAXqB;;AAatBI,EAAAA,aAAa,CAACC,EAAD,EAA+B;AACxC,WAAOX,KAAK,CAACY,MAAN,CAAc,gEAA+DD,EAAG,EAAhF,CAAP;AACH;;AAfqB,CAAnB;AAkBP,OAAO,MAAME,OAAO,GAAG;AACrBC,EAAAA,MAAM,EAAE,IADa;;AAErBC,EAAAA,UAAU,GAAG;AACX,WAAO,CAAC,CAAC,KAAKD,MAAd;AACD,GAJoB;;AAKrBE,EAAAA,kBAAkB,CAACC,KAAD,EAAmB;AACnCjB,IAAAA,KAAK,CAACkB,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8BC,aAA9B,GAA+C,UAASJ,KAAM,EAA9D,CADmC,CAEnC;AACD,GARoB;;AAUrBK,EAAAA,QAAQ,CAACL,KAAD,EAAa;AACnB,SAAKH,MAAL,GAAcG,KAAd;;AACA,SAAKD,kBAAL,CAAwBC,KAAxB;AACD,GAboB;;AAerBM,EAAAA,IAAI,GAAG;AACH,QAAI;AACD,YAAMN,KAAK,GAAGO,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAd;AACA,WAAKJ,QAAL,CAAcL,KAAd;AACF,KAHD,CAGE,OAAOU,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AAED;;AACD,WAAO,KAAKb,MAAZ;AACH,GAzBoB;;AA2BrBgB,EAAAA,QAAQ,CAACxB,MAAD,EAAwC;AAC9C,WAAON,KAAK,CAACO,IAAN,CAAY,yDAAZ,EAAsED,MAAtE,CAAP;AACD,GA7BoB;;AA+BrByB,EAAAA,KAAK,CAACzB,MAAD,EAAwC;AAC3C,WAAON,KAAK,CAACO,IAAN,CAAY,sDAAZ,EAAmED,MAAnE,CAAP;AACD;;AAjCoB,CAAhB;AAoCP,OAAO,MAAM0B,UAAU,GAAG;AACxB5B,EAAAA,GAAG,GAAsB;AACvB,WAAOJ,KAAK,CAACO,IAAN,CAAY,mDAAZ,CAAP;AACD;;AAHuB,CAAnB","sourcesContent":["import axios from 'axios'\nimport { EntrieType, UserType } from \"../types\"\nimport { useHistory } from 'react-router-dom'\n\ntype TokenType = string \n\nexport const ApiEntries = {    \n    fetchEntries(userId: number): Promise<Array<EntrieType>> {\n      return axios.get(`https://budget-track-elif.herokuapp.com/b/entries/get/?userId=${userId}`)\n    },\n\n    createEntrie( entrie: EntrieType): Promise<EntrieType> {\n      return axios.post('https://budget-track-elif.herokuapp.com/b/entries/create', entrie)\n    },\n\n    updateEntrie( entrie: EntrieType): Promise<EntrieType> {\n        return axios.put(`https://budget-track-elif.herokuapp.com/b/entries/update`, entrie)\n    },\n\n    deleteEntries(id: number): Promise<boolean> {\n        return axios.delete(`https://budget-track-elif.herokuapp.com/b/entries/delete/?id=${id}`)\n    }\n}\n\nexport const ApiAuth = {\n  _token: null,\n  isLoggedIn() {\n    return !!this._token;\n  },\n  _storeTokenToAxios(token: TokenType) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`\n    // axios.defaults.headers.common.Authorization = `Bearer ${this._token}`\n  },\n\n  setToken(token: any) {\n    this._token = token\n    this._storeTokenToAxios(token)\n  },\n\n  init() {\n      try {\n         const token = window.localStorage.getItem('token')\n         this.setToken(token)\n      } catch (error) {\n        console.log('NOT FOUND TOKEN');\n        console.log(error);\n\n      }  \n      return this._token\n  },\n\n  register(entrie: EntrieType): Promise<UserType> {\n    return axios.post(`https://budget-track-elif.herokuapp.com/b/auth/register`, entrie )\n  },\n\n  login(entrie: EntrieType): Promise<UserType> {\n    return axios.post(`https://budget-track-elif.herokuapp.com/b/auth/login`, entrie)\n  },\n}\n\nexport const ApiAccount = {\n  get(): Promise<UserType> {\n    return axios.post(`https://budget-track-elif.herokuapp.com/b/account`)\n  },\n}"]},"metadata":{},"sourceType":"module"}