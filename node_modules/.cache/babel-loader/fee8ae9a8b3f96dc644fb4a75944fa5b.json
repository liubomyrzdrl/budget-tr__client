{"ast":null,"code":"import { ApiAuth } from \"../../api/index\";\nimport { loginStart, loginError, registerStart, registerSuccess, registerError } from './authActions';\nexport function login(body) {\n  return async function loginThunk(dispatch) {\n    try {\n      dispatch(loginStart());\n      const res = await ApiAuth.login(body);\n      console.log('LOGIN', res);\n      const token = res.token;\n      ApiAuth.setToken(token);\n      window.localStorage.setItem('token', String(token));\n    } catch (err) {\n      dispatch(loginError());\n    }\n  };\n}\nexport function register(body) {\n  return async function registerThunk(dispatch) {\n    try {\n      dispatch(registerStart());\n      debugger;\n      const res = await ApiAuth.register(body);\n      debugger;\n      console.log('Register', res.data);\n      const token = res.data.token;\n      ApiAuth.setToken(token);\n      window.localStorage.setItem('token', String(token));\n      dispatch(registerSuccess(res.data.data[0]));\n    } catch (err) {\n      dispatch(registerError()); //dispatch(actions.register.error({ message: err}));\n    }\n  };\n}","map":{"version":3,"sources":["/Users/macbook/Documents/DEVELOPMENT/budget-tracker/client/src/modules/auth/authOperations.ts"],"names":["ApiAuth","loginStart","loginError","registerStart","registerSuccess","registerError","login","body","loginThunk","dispatch","res","console","log","token","setToken","window","localStorage","setItem","String","err","register","registerThunk","data"],"mappings":"AAAA,SAASA,OAAT,QAAwB,iBAAxB;AACA,SAASC,UAAT,EAAkCC,UAAlC,EAA8CC,aAA9C,EAA6DC,eAA7D,EAA8EC,aAA9E,QAAmG,eAAnG;AAEA,OAAO,SAASC,KAAT,CAAeC,IAAf,EAA0B;AAC/B,SAAO,eAAeC,UAAf,CAA0BC,QAA1B,EAAyC;AAC9C,QAAI;AACFA,MAAAA,QAAQ,CAACR,UAAU,EAAX,CAAR;AAEA,YAAMS,GAAG,GAAG,MAAMV,OAAO,CAACM,KAAR,CAAcC,IAAd,CAAlB;AAEAI,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,GAArB;AACA,YAAMG,KAAK,GAAGH,GAAG,CAACG,KAAlB;AACAb,MAAAA,OAAO,CAACc,QAAR,CAAiBD,KAAjB;AACAE,MAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,EAAqCC,MAAM,CAACL,KAAD,CAA3C;AAGD,KAXD,CAWE,OAAOM,GAAP,EAAY;AACZV,MAAAA,QAAQ,CAACP,UAAU,EAAX,CAAR;AACD;AACF,GAfD;AAgBD;AAED,OAAO,SAASkB,QAAT,CAAkBb,IAAlB,EAA6B;AAClC,SAAO,eAAec,aAAf,CAA6BZ,QAA7B,EAA2C;AAChD,QAAI;AACFA,MAAAA,QAAQ,CAACN,aAAa,EAAd,CAAR;AACA;AACA,YAAMO,GAAG,GAAG,MAAMV,OAAO,CAACoB,QAAR,CAAiBb,IAAjB,CAAlB;AACA;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,GAAG,CAACY,IAA5B;AACA,YAAMT,KAAK,GAAGH,GAAG,CAACY,IAAJ,CAAST,KAAvB;AACAb,MAAAA,OAAO,CAACc,QAAR,CAAiBD,KAAjB;AACAE,MAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,EAAqCC,MAAM,CAACL,KAAD,CAA3C;AAEAJ,MAAAA,QAAQ,CAACL,eAAe,CAACM,GAAG,CAACY,IAAJ,CAASA,IAAT,CAAc,CAAd,CAAD,CAAhB,CAAR;AACD,KAXD,CAWE,OAAOH,GAAP,EAAY;AACZV,MAAAA,QAAQ,CAACJ,aAAa,EAAd,CAAR,CADY,CAEZ;AACD;AACF,GAhBD;AAiBD","sourcesContent":["import { ApiAuth } from \"../../api/index\";\nimport { loginStart,loginSuccess, loginError, registerStart, registerSuccess, registerError } from './authActions';\n\nexport function login(body: any) {\n  return async function loginThunk(dispatch: any) {\n    try {\n      dispatch(loginStart());\n    \n      const res = await ApiAuth.login(body);\n   \n      console.log('LOGIN', res);\n      const token = res.token;\n      ApiAuth.setToken(token);\n      window.localStorage.setItem('token', String(token));\n\n    \n    } catch (err) {\n      dispatch(loginError());\n    }\n  };\n}\n\nexport function register(body: any) {\n  return async function registerThunk(dispatch:any) {\n    try {\n      dispatch(registerStart());\n      debugger\n      const res = await ApiAuth.register(body);\n      debugger\n      console.log('Register', res.data);\n      const token = res.data.token;\n      ApiAuth.setToken(token);\n      window.localStorage.setItem('token', String(token) );\n\n      dispatch(registerSuccess(res.data.data[0]));\n    } catch (err) {\n      dispatch(registerError());\n      //dispatch(actions.register.error({ message: err}));\n    }\n  };\n}"]},"metadata":{},"sourceType":"module"}